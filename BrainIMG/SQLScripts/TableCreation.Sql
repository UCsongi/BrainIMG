
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestRecord')
BEGIN
CREATE TABLE TestRecord (
	ID INT PRIMARY KEY IDENTITY (1, 1),
	FolderPath NVARCHAR (260) NOT NULL,
	TestDate DATETIME NOT NULL,
	Metadata NVARCHAR(MAX));
END;



IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestResult')
BEGIN
CREATE TABLE TestResult (
	ID BIGINT PRIMARY KEY
	RecordID INT FOREIGN KEY REFERENCES TestRecord(ID) NOT NULL,
	AlgoID INT,
	PatientID INT,
	LearningSize INT,
	AlgoParam NVARCHAR(MAX),
	FeatureCount INT,
	LearnDuration INT,
	TestDuration INT,
	TN INT,
	FP INT,
	FN INT,
	TP INT,
	Stat0 FLOAT,
	Stat1 FLOAT,
	Stat2 FLOAT,
	Stat3 FLOAT,
	DiceScore FLOAT,
	Stat4 FLOAT,
	Stat5 FLOAT,
	Stat6 FLOAT,
	Stat7 FLOAT
);
END;

