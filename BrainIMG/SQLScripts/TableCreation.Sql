
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestRecord')
BEGIN
CREATE TABLE TestRecord (
	ID INT PRIMARY KEY IDENTITY (1, 1),
	FolderPath NVARCHAR (260) NOT NULL,
	TestDate DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
	Metadata NVARCHAR(MAX));
END;



IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestResult')
BEGIN
CREATE TABLE TestResult (
	ID BIGINT PRIMARY KEY
	RecordID INT FOREIGN KEY REFERENCES TestRecord(ID) NOT NULL,
	AlgoID INT,
	PatientID INT,
	LearningSize INT,
	AlgoParam NVARCHAR(MAX),
	FeatureCount INT DEFAULT 36,
	LearnDuration INT,
	TestDuration INT,
	TN INT,
	FP INT,
	FN INT,
	TP INT,
	NDS FLOAT,
	NTPR FLOAT,
	NTNR FLOAT,
	NPPV FLOAT,
	DiceScore FLOAT,
	PTPR FLOAT,
	PTNR FLOAT,
	PPPV FLOAT,
	Correctness FLOAT
);
END;

