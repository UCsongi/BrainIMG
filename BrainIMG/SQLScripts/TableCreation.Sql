
IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestRecord')
BEGIN
CREATE TABLE TestRecord (
	ID INT PRIMARY KEY IDENTITY (1, 1),
	FolderPath NVARCHAR (260) NOT NULL,
	TestDate DATETIME NOT NULL,
	Metadata NVARCHAR(MAX));
END;


IF NOT EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME = 'TestResult')
BEGIN
CREATE TABLE TestResult (
	ID INT PRIMARY KEY IDENTITY (1, 1),
	RecordID INT FOREIGN KEY REFERENCES TestRecord(ID) NOT NULL,
	Value1 NVARCHAR,
	Value2 INT,
	Value3 NVARCHAR(MAX)
);
END;

